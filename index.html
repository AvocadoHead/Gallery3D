<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Floating Canvas Gallery</title>
  <style>
    :root {
      --bg-gradient: radial-gradient(circle at 20% 20%, #1a2b4d, #0e1425 55%),
        radial-gradient(circle at 80% 30%, #22345a, #0e1425 50%),
        radial-gradient(circle at 50% 80%, #14264b, #0b1323 45%);
      --glow: 0 10px 30px rgba(0, 180, 255, 0.4);
      --card-size: 150px;
      --gap: 18px;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      min-height: 100vh;
      color: #e8f0ff;
      font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #0b1323;
      background-image: var(--bg-gradient);
      background-size: 160% 160%;
      overflow: hidden;
    }

    header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      padding: 12px 20px 8px;
      backdrop-filter: blur(14px);
      background: linear-gradient(180deg, rgba(8, 15, 30, 0.8) 0%, rgba(8, 15, 30, 0.45) 100%);
      border-bottom: 1px solid rgba(255, 255, 255, 0.06);
      z-index: 5;
    }

    header h1 {
      margin: 0;
      font-size: 18px;
      letter-spacing: 0.04em;
      font-weight: 700;
    }

    header p {
      margin: 4px 0 10px;
      font-size: 13px;
      color: #b7c6e3;
    }

    #controls {
      display: grid;
      grid-template-columns: 1fr auto;
      gap: 10px;
      align-items: center;
    }

    #urlInput {
      width: 100%;
      border-radius: 10px;
      background: rgba(255, 255, 255, 0.04);
      border: 1px solid rgba(255, 255, 255, 0.08);
      color: #e8f0ff;
      padding: 10px 12px;
      font-size: 13px;
      resize: vertical;
      min-height: 42px;
      max-height: 120px;
    }

    #applyBtn {
      padding: 10px 16px;
      background: linear-gradient(135deg, #3ac0ff, #7694ff);
      border: none;
      color: #0b1323;
      font-weight: 700;
      border-radius: 10px;
      cursor: pointer;
      box-shadow: 0 10px 30px rgba(118, 148, 255, 0.35);
      transition: transform 180ms ease, box-shadow 180ms ease;
    }

    #applyBtn:hover {
      transform: translateY(-1px);
      box-shadow: 0 12px 36px rgba(118, 148, 255, 0.45);
    }

    #applyBtn:active {
      transform: translateY(0);
    }

    #hint {
      font-size: 12px;
      color: #9bb1d8;
      margin-top: 4px;
    }

    main {
      position: absolute;
      top: 90px;
      bottom: 0;
      left: 0;
      right: 0;
      overflow: hidden;
    }

    #canvasShell {
      width: 100%;
      height: 100%;
      position: relative;
      overflow: hidden;
      cursor: grab;
    }

    #canvasShell:active {
      cursor: grabbing;
    }

    #canvas {
      position: absolute;
      top: 50%;
      left: 50%;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(var(--card-size), 1fr));
      gap: var(--gap);
      transform: translate(-50%, -50%) scale(1);
      transform-origin: center center;
      transition: transform 180ms ease;
      padding: 60px;
      width: min(1400px, 120vw);
    }

    .card {
      position: relative;
      border-radius: 22px;
      overflow: hidden;
      background: linear-gradient(145deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.02));
      box-shadow: 0 16px 45px rgba(4, 10, 24, 0.55);
      aspect-ratio: 1 / 1;
      transition: transform 220ms ease, box-shadow 220ms ease, filter 220ms ease;
      transform: translateY(var(--jitter, 0px)) rotate(var(--tilt, 0deg));
    }

    .card.small {
      width: calc(var(--card-size) * 0.9);
    }

    .card.medium {
      width: var(--card-size);
    }

    .card.large {
      width: calc(var(--card-size) * 1.2);
    }

    .card img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
      filter: saturate(1.05);
      transition: transform 220ms ease, filter 220ms ease;
    }

    .card:hover {
      transform: translateY(calc(var(--jitter, 0px) - 4px)) rotate(var(--tilt, 0deg)) scale(1.05);
      box-shadow: 0 16px 45px rgba(1, 204, 255, 0.4);
      filter: drop-shadow(0 0 15px rgba(0, 255, 255, 0.15));
      z-index: 2;
    }

    .card:hover img {
      transform: scale(1.06);
      filter: saturate(1.2) brightness(1.05);
    }

    .card:focus-visible {
      outline: 2px solid #6be9ff;
      outline-offset: 4px;
    }

    #overlay {
      position: fixed;
      inset: 0;
      background: rgba(7, 11, 22, 0.6);
      backdrop-filter: blur(12px);
      opacity: 0;
      pointer-events: none;
      display: grid;
      place-items: center;
      transition: opacity 200ms ease;
      z-index: 10;
    }

    #overlay.active {
      opacity: 1;
      pointer-events: auto;
    }

    #overlay figure {
      margin: 0;
      width: min(90vw, 1100px);
      height: min(82vh, 900px);
      border-radius: 28px;
      overflow: hidden;
      box-shadow: 0 30px 80px rgba(4, 10, 24, 0.7), 0 0 40px rgba(0, 200, 255, 0.2);
      transform: scale(0.9);
      transition: transform 220ms ease;
    }

    #overlay.active figure {
      transform: scale(1);
    }

    #overlay img {
      width: 100%;
      height: 100%;
      object-fit: contain;
      background: #050914;
    }

    #closeBtn {
      position: absolute;
      top: 18px;
      right: 20px;
      background: rgba(255, 255, 255, 0.08);
      border: 1px solid rgba(255, 255, 255, 0.12);
      color: #e8f0ff;
      border-radius: 10px;
      padding: 8px 12px;
      cursor: pointer;
      transition: background 160ms ease, transform 160ms ease;
      font-weight: 700;
      z-index: 15;
    }

    #closeBtn:hover {
      background: rgba(255, 255, 255, 0.12);
      transform: translateY(-1px);
    }

    #closeBtn:active {
      transform: translateY(0);
    }

    #veil.blur #canvas {
      filter: blur(4px) brightness(0.8);
      transition: filter 200ms ease;
    }

    #emptyState {
      color: #9bb1d8;
      font-size: 14px;
      text-align: center;
      grid-column: 1 / -1;
      padding: 20px 0 60px;
    }

    @media (max-width: 768px) {
      header {
        padding: 10px 14px 8px;
      }

      #controls {
        grid-template-columns: 1fr;
      }

      #canvas {
        padding: 40px;
        width: min(1200px, 140vw);
      }
    }
  </style>
</head>
<body>
  <header>
    <h1>Floating Canvas Gallery</h1>
    <p>Paste comma-separated image URLs and let them hover over a dreamy gradient. Scroll to zoom, drag to pan, hover to glow, click to fill the screen.</p>
    <div id="controls">
      <textarea id="urlInput" placeholder="Paste comma-separated image URLs here"></textarea>
      <button id="applyBtn">Render</button>
    </div>
    <div id="hint">Scroll to zoom • Click + drag to pan • Hover to focus • Click to expand</div>
  </header>

  <main>
    <div id="canvasShell" aria-label="Floating gallery space">
      <div id="canvas"></div>
    </div>
  </main>

  <div id="overlay" role="dialog" aria-modal="true" aria-label="Expanded image view">
    <button id="closeBtn" aria-label="Close">Close</button>
    <figure>
      <img id="overlayImg" alt="Expanded gallery item" />
    </figure>
  </div>

  <script>
    const urlInput = document.getElementById('urlInput');
    const applyBtn = document.getElementById('applyBtn');
    const canvas = document.getElementById('canvas');
    const canvasShell = document.getElementById('canvasShell');
    const overlay = document.getElementById('overlay');
    const overlayImg = document.getElementById('overlayImg');
    const closeBtn = document.getElementById('closeBtn');

    const DEFAULT_URLS = [
      'https://drive.google.com/file/d/1dIqrswjsCHoktMCdeGJ0GMgEd6K7EzVf/view?usp=drive_link',
      'https://drive.google.com/file/d/1b-cLwlDgBOzYEyP83u5un-bVRgty5pP5/view?usp=drive_link',
      'https://drive.google.com/file/d/1XLTys10VbfYx3rFIZkvdXPEDdt8VFkOs/view?usp=drive_link',
      'https://drive.google.com/file/d/1ag-sRtn2snQkCQKIQd47VMP0YVvrBNFF/view?usp=drive_link',
      'https://drive.google.com/file/d/1RAlv9kgNShhag-fXqBbwtVRHd7rHVLqd/view?usp=drive_link',
      'https://drive.google.com/file/d/1oBao77n5MXaZigY0xidHx9fvzlHvHnzq/view?usp=drive_link',
      'https://drive.google.com/file/d/1i3EF6dh2o4vdZj7L2WDVtrLJ2okgplkn/view?usp=drive_link',
      'https://drive.google.com/file/d/1vbRUbx_8sNrnoOHOiX3kWFQ0y9R6_ji8/view?usp=drive_link',
      'https://drive.google.com/file/d/1CYGuuWyLDEAacrqgmOud1AWBcPMFG-Tt/view?usp=drive_link',
      'https://drive.google.com/file/d/1k9W4mFR2vpxSsGun6MmWznaiKrVypYs-/view?usp=drive_link',
      'https://drive.google.com/file/d/1Yuutr1x2lnFiDhsw4bFg9gl-y19ntS1U/view?usp=drive_link',
      'https://drive.google.com/file/d/1Z75YDRQaKJ_-CaHtw2uU708nTvqxb5Y4/view?usp=drive_link',
      'https://drive.google.com/file/d/1DYSxTDmM7x9_i2NiloM9B-GnnK7okn0I/view?usp=drive_link',
      'https://drive.google.com/file/d/1zNr7V4XeDq8C0WhB5gQmC6x87S6b97Fh/view?usp=drive_link',
      'https://drive.google.com/file/d/1bTWBRVW8RlJjTAf77RyXMhWmjFs8pR2s/view?usp=drive_link',
      'https://drive.google.com/file/d/1TTJadEjAbn4GnSbhadUKGzoFqrNyKRuV/view?usp=drive_link',
      'https://drive.google.com/file/d/1ym24g7UgZXD6vHyROJ2CBh1oFY-ZlqzU/view?usp=drive_link',
      'https://drive.google.com/file/d/1NoJ5qM1NmwzzK87JZ4JY0lM4lTCa4_EW/view?usp=drive_link',
      'https://drive.google.com/file/d/1E5mePQuZkHPSz7e3fvdFZfIDZHUCxqxM/view?usp=drive_link',
      'https://drive.google.com/file/d/1NkQCVIL42lriLHsK9JLA9avh22opAsdN/view?usp=drive_link',
      'https://drive.google.com/file/d/1SDL4oS6AXAb1ElmJRmR1z3KjhVvtJEuZ/view?usp=drive_link',
      'https://drive.google.com/file/d/18K7NowtSxytruYa1XNv7SAhNusTGRhxK/view?usp=drive_link',
      'https://drive.google.com/file/d/1GosSmTB_UZuWf_vXLVPotGPIJ_QYQeON/view?usp=drive_link',
      'https://drive.google.com/file/d/1uBlmkZzufwRCU8wU8pe4sOn5pKsngG8n/view?usp=drive_link',
      'https://drive.google.com/file/d/1CgpTrsDbIKdW9jsdAyOvSkH5UE0xj8st/view?usp=drive_link',
      'https://drive.google.com/file/d/13Hu3YgQNGXSID1LYDsV9Zi_DpmRKIwdc/view?usp=drive_link',
      'https://drive.google.com/file/d/1i-pnGZcQtGB_bFRhbUBXJgUxtODegcf8/view?usp=drive_link',
      'https://drive.google.com/file/d/1KuxtRW8fpOu7Re1LD3JXKqZgjbpEc-uq/view?usp=drive_link',
      'https://drive.google.com/file/d/1lwOdbmPOsaSDOKaanC98HFpoN7K8dvfB/view?usp=drive_link',
      'https://drive.google.com/file/d/1ho6vkT1yO-9ZCiCxDXjvt0LJUeeNBzLE/view?usp=drive_link',
      'https://drive.google.com/file/d/1cc_5eIv0Kw9IQ4M_SYAlfLjyJXHgC09K/view?usp=drive_link',
      'https://drive.google.com/file/d/1oOkPp6xQ2kl9lFbY3Wdn9_Ey_52Qi4EA/view?usp=drive_link',
      'https://drive.google.com/file/d/1zy9-DFe-sgmRASHof1Eg2tLACU1XiCaA/view?usp=drive_link',
      'https://drive.google.com/file/d/1j_tRB8pcZe9yXJn9HniNofggpGyLMTnn/view?usp=drive_link',
      'https://drive.google.com/file/d/17YPPcET3rAy9yA3PwO8Il9jDEvoMe6xf/view?usp=drive_link',
      'https://drive.google.com/file/d/1TbC51Lw5GFq3oK-8WLXLK8oLg2kpbmbr/view?usp=drive_link',
      'https://drive.google.com/file/d/1xJENuwy-XBhfcFAfjxfs9oP6GEecds5o/view?usp=drive_link',
      'https://drive.google.com/file/d/1EIkmqcoSdBP7mfaKBvyqsAf3FfsS2Qgx/view?usp=drive_link',
      'https://drive.google.com/file/d/1-XAW96BAmHo0q-82cTkAyfryfh6hFdjR/view?usp=drive_link',
      'https://drive.google.com/file/d/1nRWE7rGCkxaB2a8JQGGS-HZUsMjE2BaH/view?usp=drive_link',
      'https://drive.google.com/file/d/1J3jFWZVBCHMW5s1Fp_xa1sAzc9ia-sG9/view?usp=drive_link',
      'https://drive.google.com/file/d/1Fswm-SH-Fm9QZEN5d-F-p0rHn_6ZfSpv/view?usp=drive_link',
      'https://drive.google.com/file/d/16Kb2CcvOLooRNycycPu9dGUkMP1QsFxd/view?usp=drive_link',
      'https://drive.google.com/file/d/1uxpGfhzd7nOzubSnDX_zAxvJ8p_6B1K0/view?usp=drive_link',
      'https://drive.google.com/file/d/197cob3XDMRMMxWL51r3hcKrUnBganrWN/view?usp=drive_link',
      'https://drive.google.com/file/d/124yvpR4cKH8_Ym2Y34Dc89bGSsMBLgwB/view?usp=drive_link',
      'https://drive.google.com/file/d/1NfVqmNKovjR0IcNekU1-okUSRJWy351w/view?usp=drive_link',
      'https://drive.google.com/file/d/1xwUtZ5Ks49PxYexlKWLqsnkBBNaYIQce/view?usp=drive_link',
      'https://drive.google.com/file/d/1p7Q2C3EnQMfJtXb4PT5FLZgxLmJ-R57G/view?usp=drive_link',
      'https://drive.google.com/file/d/1iLpGssMibyEg2CboinsllzbwMcfJggzU/view?usp=drive_link',
      'https://drive.google.com/file/d/1S9ZHTRjFwlsFE-uAMK0E2DsX45KZ65UG/view?usp=drive_link',
      'https://drive.google.com/file/d/1069cCuv2xpl3rRmgOl-X2C33lUlApgs9/view?usp=drive_link',
      'https://drive.google.com/file/d/1ba3GFHM-vOxom2aKGvKDGa39GnpHPCyn/view?usp=drive_link',
      'https://drive.google.com/file/d/1tH5rVisJfKXQkOLinNbbiuO125N6Q6rv/view?usp=drive_link',
      'https://drive.google.com/file/d/1sdLn3vVU3HkC1EcYH0imm8Ang9puzGfN/view?usp=drive_link',
      'https://drive.google.com/file/d/1_XPooJtTiP8WtET1Ptr0u0Yd4R7LpceS/view?usp=drive_link',
      'https://drive.google.com/file/d/1iG6Qd42JakXy2zfS6tIftQ2kLnqNdH19/view?usp=drive_link',
      'https://drive.google.com/file/d/11Uzj_X87QCA1sd5ci8feAuLBCecYI8eD/view?usp=drive_link',
      'https://drive.google.com/file/d/1Q-o6UD8TEBdf878zJrUkPBo8dY_Bv1tK/view?usp=drive_link',
      'https://drive.google.com/file/d/1f5tTu1g5To1LP-n_V1Yl1L2mA5V7GZ1Z/view?usp=drive_link',
      'https://drive.google.com/file/d/1Q6wEtR3LSoancYmQB1vjCnvE97zSt_vr/view?usp=drive_link',
      'https://drive.google.com/file/d/1gTaWbxXnqk8YNqjUlCvVTALXn3RXyLqj/view?usp=drive_link',
      'https://drive.google.com/file/d/1D4bswVMFyJ1U2j5ggpbkYFuMyKarjw7s/view?usp=drive_link',
      'https://drive.google.com/file/d/19WvYgH6mXSlJ1s8tBV9oQJKWfb62lbzw/view?usp=drive_link',
      'https://drive.google.com/file/d/11nDYAiuBXdBS-YJ9VKovYCnazmCh8wMg/view?usp=drive_link',
      'https://drive.google.com/file/d/1SE8tX2puBtgSGhgqWrug5jNDbZj4153f/view?usp=drive_link',
      'https://drive.google.com/file/d/19C10zqTXsJU7HJj0mBAdzuiLQa53OhWD/view?usp=drive_link',
      'https://drive.google.com/file/d/1JAag_sHi9dzNXEfSGvOW8ygMe5NKx3q1/view?usp=drive_link',
      'https://drive.google.com/file/d/10crBxq16SLs85_EmX5jzP8h3VnXqtskS/view?usp=drive_link',
      'https://drive.google.com/file/d/1cmA9nsLNfFnRuCRgCd_mmoopJkHOfWwD/view?usp=drive_link',
      'https://drive.google.com/file/d/1U2jAqqXVqfm0wJJxms780Evd64TBxSi2/view?usp=drive_link',
      'https://drive.google.com/file/d/1K3OFOmIVQjd17HKr5caDlZiRGswJUWQk/view?usp=drive_link',
      'https://drive.google.com/file/d/1CoqHd900-nDP0_8ouV8TIXSoBkwXgJYV/view?usp=drive_link',
      'https://drive.google.com/file/d/1wl7Embnc7XZhVUG0VMtDMrNzrQZeV-kF/view?usp=drive_link',
      'https://drive.google.com/file/d/1ideGq-j9ZwXz_Ut7JUsmQRJtqufzLIUD/view?usp=drive_link',
      'https://drive.google.com/file/d/1Pilh3Z0yvl2I0qyFrrDN4afbJ-VY1Zsc/view?usp=drive_link',
      'https://drive.google.com/file/d/1xut7RGMDmd4P6HzG8miFaNqpmfV3AEwt/view?usp=drive_link',
      'https://drive.google.com/file/d/1tAduPH5GixXUW6km8s95TGEGzjxUt42g/view?usp=drive_link',
      'https://drive.google.com/file/d/1zm0zsl3pdUdCHm2pMDj0pAGJ6oWoTBjQ/view?usp=drive_link',
      'https://drive.google.com/file/d/1zPFjWx5qWGH3Q07RlpqRLwJ49NYhvdet/view?usp=drive_link',
      'https://drive.google.com/file/d/15jK6xzxh2BNO-T7PmbNBm_8_ahBChEbe/view?usp=drive_link',
      'https://drive.google.com/file/d/1b0wxa4OMTnRdnAshHjCv3qRI80mI1ihD/view?usp=drive_link',
      'https://drive.google.com/file/d/12clA6iydxba8frWLqK7DH5TDRg-izN88/view?usp=drive_link',
      'https://drive.google.com/file/d/125TO6KjF6P6T6Vt49QqGOvW4s-zZL6rZ/view?usp=drive_link',
      'https://drive.google.com/file/d/1pPn_3PZVR-hVKoNx_esMbCuZhpHsg0_W/view?usp=drive_link',
      'https://drive.google.com/file/d/1WGHw1fNT1_06E2VqEORIa027lSemDIgx/view?usp=drive_link',
      'https://drive.google.com/file/d/1xKHz5_esL6hIhVZYx849U0gp_Mf6mkWT/view?usp=drive_link',
      'https://drive.google.com/file/d/11xDKKjYbRODBTZ5x40TBw1flVte3T-zu/view?usp=drive_link',
      'https://drive.google.com/file/d/19Bcr3UnD61_-KQEwEgrSKZri-4sXZMBV/view?usp=drive_link',
      'https://drive.google.com/file/d/16mI5Hd53YFQh1or-jxSRgQ7VlvAr1D6Q/view?usp=drive_link',
      'https://drive.google.com/file/d/1gjIkpNJI4JY9vpu0lNLdciylKYIzpMtx/view?usp=drive_link',
      'https://drive.google.com/file/d/1PE_WZBJTE3fUGe0xZb3hKRwyA8yTmXkl/view?usp=drive_link',
      'https://drive.google.com/file/d/1DQI-VbiiavAxSCaB6UwHNyR_FUj5tSGa/view?usp=drive_link',
      'https://drive.google.com/file/d/1A9PYTLNZ5aUKsvmCyIOCjxslOMDyydQD/view?usp=drive_link',
      'https://drive.google.com/file/d/19NaC5IQpIopanuPxWieVGsHLaMWsH9cz/view?usp=drive_link',
      'https://drive.google.com/file/d/1y7gWZzcqRmTrN25LksxiJfZWWVgzbbd8/view?usp=drive_link',
      'https://drive.google.com/file/d/16KnbVnIxMIGJihqAzQfuFsuhJJjyDyd8/view?usp=drive_link',
      'https://drive.google.com/file/d/12rkPw7AvuIIFLsR-sUF-UjXetq_Or-DJ/view?usp=drive_link',
      'https://drive.google.com/file/d/1mBR-PgKgRZYnkyzDVL_ytxuDXAc-PnR2/view?usp=drive_link',
      'https://drive.google.com/file/d/1RDcv-LqbfdiM4uSZLBw1SLk7w0B9DHbj/view?usp=drive_link',
      'https://drive.google.com/file/d/13g04Ujm2E7CJt1TB0DvOGnaHk6NkK7D8/view?usp=drive_link',
      'https://drive.google.com/file/d/1CHMNIqrAyv7Zln-3ewyEa8GuGVrXXqYb/view?usp=drive_link',
      'https://drive.google.com/file/d/1rg0Zkec7Plp-v5AXLDxbIAGN4mqBgnk8/view?usp=drive_link',
      'https://drive.google.com/file/d/11LHx2xpQHoSZTjEaXl3LT0u7G_lYqOoB/view?usp=drive_link',
      'https://drive.google.com/file/d/1S-I5u4txMvz5QEeoSo2zfEl-dACI505g/view?usp=drive_link',
      'https://drive.google.com/file/d/15s7z1xducu2NqGQy9HFq_tgcRTuW9awx/view?usp=drive_link',
      'https://drive.google.com/file/d/1sNpmSkNomiDRUsip-42N65z2Vg3Qy1Fd/view?usp=drive_link',
      'https://drive.google.com/file/d/1hDKZs8p0bTXSWyJigSxGiBS4cDz2R0a_/view?usp=drive_link',
      'https://drive.google.com/file/d/1ygfWRgOxo1ydMXtVUFAXCmqROOVSiLYA/view?usp=drive_link',
      'https://drive.google.com/file/d/1vOSzMCAUCa0keTEa223YkuMDVbZ8T6J0/view?usp=drive_link',
      'https://drive.google.com/file/d/1x0cTpCvDS_EyZKXmnqC6kCIMyGvoKYl1/view?usp=drive_link',
      'https://drive.google.com/file/d/1I3eGuc8w3gc_JGTQ9z4QCuMU5mEcBm1w/view?usp=drive_link',
      'https://drive.google.com/file/d/1uuIbNl9LmflKFHl9jvU5R80nEJrhtG6Q/view?usp=drive_link',
      'https://drive.google.com/file/d/1oZrPAuej0VcnjPuoDAmugfPjdqqAlHqJ/view?usp=drive_link',
      'https://drive.google.com/file/d/19N2dOXXyjrMxOCNmt-5xEFFGtBjmQaGL/view?usp=drive_link',
      'https://drive.google.com/file/d/1X2Ml7eVvjM2Wwc4P8NhzvXOk0FCVAGz7/view?usp=drive_link',
      'https://drive.google.com/file/d/1SxDGsedMguL7R_D4kNZxM8fJFZBa8Qyj/view?usp=drive_link',
      'https://drive.google.com/file/d/1j99vw_0SK002no3DiBBoutUr0kZX2PEs/view?usp=drive_link',
      'https://drive.google.com/file/d/1mgnhJlXjJcPAoRQ3YC0a2wsuqgh_aLRZ/view?usp=drive_link',
      'https://drive.google.com/file/d/1fm706YTI5Sb9ncVZeAGy8hhtJdPfAdNR/view?usp=drive_link',
      'https://drive.google.com/file/d/1RCa5vrW8GYMlLfTeHeqPIvQr2GFk73Rk/view?usp=drive_link',
      'https://drive.google.com/file/d/1C06Z3VBM2zi6M7oLS854AcFRMWqEHHzH/view?usp=drive_link',
      'https://drive.google.com/file/d/1XlIcMpYInt-igq8xJyKWbjA3uodBHKI0/view?usp=drive_link',
      'https://drive.google.com/file/d/1UstrCsubQ3sL0itVVMFgmHua-PcYpsna/view?usp=drive_link',
      'https://drive.google.com/file/d/17nY4uMA4-fekHJQ5HZcStB7nnuFxPJHV/view?usp=drive_link',
      'https://drive.google.com/file/d/1ZmqMqC28bFIdWMo_-gsflDukPNhJ3rHF/view?usp=drive_link',
      'https://drive.google.com/file/d/1mqXvBQP8-qBGyZvuLtE5QQWOSLTVAKRQ/view?usp=drive_link',
      'https://drive.google.com/file/d/1mofu1JyBU0Zbh965ip6qq9TdLHSs50Rt/view?usp=drive_link',
      'https://drive.google.com/file/d/1cjj19f2aBnek532BCD6GhudA53N7_Pi2/view?usp=drive_link',
      'https://drive.google.com/file/d/1sOCi9Xzkix6wVgvcLgEd1bopYovquMoM/view?usp=drive_link',
      'https://drive.google.com/file/d/1RZRJgcErJLWALxEc_lw2d_l1e8ggEgqA/view?usp=drive_link',
      'https://drive.google.com/file/d/1Qr5KbjthUQqA7Teqp6ZidDgC8xUU-eb8/view?usp=drive_link',
      'https://drive.google.com/file/d/15SQVdh76DlNct6nRkTDCPv5_EE2En1H3/view?usp=drive_link',
      'https://drive.google.com/file/d/1t_XofV1ZrGnZmFntBf8v6oTgVCCYjqaO/view?usp=drive_link',
      'https://drive.google.com/file/d/1VQ1oNlm5K9kxizqxjppmvGMBablcozAe/view?usp=drive_link',
      'https://drive.google.com/file/d/1NN--juwqPlcnETdIf4h8_mgREvcDXSHp/view?usp=drive_link',
      'https://drive.google.com/file/d/1rdKiU9YFy0E2qJZrapvS4JAP4No24Wg4/view?usp=drive_link',
      'https://drive.google.com/file/d/1zfWYV6xFDjpZxr4gAaWJ0jrhUxTAKdjk/view?usp=drive_link',
      'https://drive.google.com/file/d/1xbyt8Y3Xo51dcRVI5AyuVZXPv9OQ00uL/view?usp=drive_link',
      'https://drive.google.com/file/d/1P4WAqZvK1mwlMUe4voshG3Rve2Jb4FTO/view?usp=drive_link',
      'https://drive.google.com/file/d/1QuF6hBgJBsP8dKL7Uyx7ZL9f79-sswuw/view?usp=drive_link',
      'https://drive.google.com/file/d/11DmFBG5xfk5_Py0ducfAev2UOlHfjhZ-/view?usp=drive_link',
      'https://drive.google.com/file/d/1wLLHAsFYY7ffTSDMpxHKzkdVfX26_nqq/view?usp=drive_link',
      'https://drive.google.com/file/d/1yRuZkdOSEVajwpQw3ZS17arEkNoDtjEd/view?usp=drive_link',
      'https://drive.google.com/file/d/1j7xa2ap7Vfb3t7VMIZA80et6tsQ8qwRr/view?usp=drive_link',
      'https://drive.google.com/file/d/1lyuivnu7RgFZcQK7HAqs1sO6teFVWrH0/view?usp=drive_link',
      'https://drive.google.com/file/d/1U1JKWQ_ocsk1G0nadIqL5B8JqCHGkTfh/view?usp=drive_link',
      'https://drive.google.com/file/d/1vZfkrPWc3OWoW2My_VIHsLgCIgCZRful/view?usp=drive_link',
      'https://drive.google.com/file/d/1jRxqgdjTQuwATzF_DajBrku44ZiF5CKC/view?usp=drive_link',
      'https://drive.google.com/file/d/1Uod6y9lt6roxnx7rMzOMNYMrBOywFGl5/view?usp=drive_link',
      'https://drive.google.com/file/d/1He3a-TR8C8E7tYIAJwy1P_2VOKjw-rtc/view?usp=drive_link',
      'https://drive.google.com/file/d/1BwQa5yxiCTddZs1NqkdjpRKrq5UO2pdp/view?usp=drive_link',
      'https://drive.google.com/file/d/1_KD37FXv2FfvxFAsa5K_nRlwcFxjF387/view?usp=drive_link',
      'https://drive.google.com/file/d/1UF9wJBjkLncKLZCkGqKJVUATfssEeBZy/view?usp=drive_link',
      'https://drive.google.com/file/d/1ToGDKM_yK4NVtjX1qMfy9QeT8PlLQqtV/view?usp=drive_link',
      'https://drive.google.com/file/d/1Dt1XxA7Gpg_JvJIBVZBrVdisQUGwJXXw/view?usp=drive_link',
      'https://drive.google.com/file/d/1np7SzIinxDv0-CkKt5QRSFcuDysV5xIw/view?usp=drive_link',
      'https://drive.google.com/file/d/1SA0pdhUDSYb5FlDmchUJO0NvlGREwUvy/view?usp=drive_link',
      'https://drive.google.com/file/d/14QOpnQO-KTzwpwvhFKZOaTmydyMcVRd9/view?usp=drive_link',
      'https://drive.google.com/file/d/1-gemUGDOLjUOJVd7Fp4v3jngwPtqTiX2/view?usp=drive_link',
      'https://drive.google.com/file/d/1SSMlwX_8XHjJCYTbMfLCzqtEHWuVG2I4/view?usp=drive_link',
      'https://drive.google.com/file/d/1_vktUVEfJIM5Ytr6m4eBHmO-gbfcKF8n/view?usp=drive_link',
      'https://drive.google.com/file/d/1ViaqtF0BiszEG99l4ogCJmd34Ms2A8BC/view?usp=drive_link',
      'https://drive.google.com/file/d/142uoO5VgowIEf-xsAcL-HJniUKOACM9J/view?usp=drive_link',
      'https://drive.google.com/file/d/1vptO2vEjYhpe44NUIROVw_gZDP-AbrcW/view?usp=drive_link',
      'https://drive.google.com/file/d/1bBLunBnQvfMRIJP0qT-NXeHj--hOnAcp/view?usp=drive_link',
      'https://drive.google.com/file/d/1z6gwp212mLRwsv8EkQDcLApBxYEAs_0s/view?usp=drive_link',
      'https://drive.google.com/file/d/1uRXOrZSWt0Xoaj2WURiv3LNsIXuClYw7/view?usp=drive_link',
      'https://drive.google.com/file/d/1o26-ePK1swK5sgu2Dcv1HbZiN2GOJze4/view?usp=drive_link',
      'https://drive.google.com/file/d/1sAjkKMzkcw87c7zEog1didZ0Wnm_57aL/view?usp=drive_link',
      'https://drive.google.com/file/d/1tLm-LoP1faovkN91xeDVAWn_Rc4wCKlq/view?usp=drive_link',
      'https://drive.google.com/file/d/14XMDBPpPZZJMQdj_ztxgldi8jZq4cw1U/view?usp=drive_link',
      'https://drive.google.com/file/d/1HdBAXe_FtwDx-NxAIT_U1_qYwsT8enrj/view?usp=drive_link',
      'https://drive.google.com/file/d/10AI6ZjFB_4biI4spSWFAG0UTjaC21zEU/view?usp=drive_link',
      'https://drive.google.com/file/d/1gM1vZxsLjIMb2Rp7L061TCZLDISHhcyk/view?usp=drive_link',
      'https://drive.google.com/file/d/1EK_H0QYH9KtDh-2K-5jeZsNlaj_PnSa4/view?usp=drive_link',
      'https://drive.google.com/file/d/1aXqHcs6W628YGoXVjvQQ9fblPMVaIiNF/view?usp=drive_link',
      'https://drive.google.com/file/d/1ehALHZ_xGBVIdMs_rIh22FlaAM_b6avC/view?usp=drive_link',
      'https://drive.google.com/file/d/1pIpUr0fVSfq4fJqC-frZFc5g5VtmW-rw/view?usp=drive_link',
      'https://drive.google.com/file/d/1QNQjz0W5GqfuC0KJ642VSXzCGLd7aox-/view?usp=drive_link',
      'https://drive.google.com/file/d/1AwsoK8AkvKe7-317S6Hy6USBfySlM70H/view?usp=drive_link',
      'https://drive.google.com/file/d/17EQJpNF-6JDtF0JBY8e12i_FRNJ-pBB4/view?usp=drive_link',
      'https://drive.google.com/file/d/1YfGmlCrh15O90u4OYtpOjt2Tq9JNfC57/view?usp=drive_link',
      'https://drive.google.com/file/d/1PaZNRKcMQmecIpaNiTqEFGz72ECKxiUH/view?usp=drive_link',
      'https://drive.google.com/file/d/1NwuwjrxUBB6bvUqUc0i81oiWyEAYSxTy/view?usp=drive_link',
      'https://drive.google.com/file/d/1vbuzAQtRgI2DCVCLA48q_0gddpz0qEaz/view?usp=drive_link',
      'https://drive.google.com/file/d/1HFP_Nxg_-M1aWLfSHDSwDtCtDW-D1pWq/view?usp=drive_link',
      'https://drive.google.com/file/d/1NKa97ucL8Gdn6VQuP3GgQbJ_STWi_8mp/view?usp=drive_link',
      'https://drive.google.com/file/d/100s3o6ZfNaaklf_GtV_UcN2hQegPSqES/view?usp=drive_link',
      'https://drive.google.com/file/d/1rNu5FngHGSs7HseMpWKIYvqc2dj1fapT/view?usp=drive_link',
      'https://drive.google.com/file/d/1H6eI0vBwm_2KeBsDeQHIYLJi2eLxOT9J/view?usp=drive_link',
      'https://drive.google.com/file/d/1rU8ruFzIHkIoT-mB4Y6lC1I95nnAsvlP/view?usp=drive_link',
      'https://drive.google.com/file/d/1Oh-VkfpUhOLZ-7a-nqAEzreCvFvssSKr/view?usp=drive_link',
      'https://drive.google.com/file/d/18R8NX0sWH_cMRb_oDiUXHzpj6WjB-14U/view?usp=drive_link',
      'https://drive.google.com/file/d/1nUynAV67iqO99hJSmGWj1y2DIjFUgPz4/view?usp=drive_link',
      'https://drive.google.com/file/d/1PwVduEHepBwwF3KNXBQh249AuN22K_a1/view?usp=drive_link',
      'https://drive.google.com/file/d/1RaOcetvgTO9o6-XE3jaYZA8byq3J8MHl/view?usp=drive_link',
      'https://drive.google.com/file/d/1d9B-8GPgmmFgCLFs-A7w5b1dWGaefcec/view?usp=drive_link',
      'https://drive.google.com/file/d/1qU9tuspcgeheh6RT2JNKhZG1QFnswhH7/view?usp=drive_link',
      'https://drive.google.com/file/d/1o_VJCkrJCTxqegk26FxPU1ZcSlVjbpYm/view?usp=drive_link',
      'https://drive.google.com/file/d/1HpnF56Pw-MZnTqpL1jqE_9kBzuhrvyTH/view?usp=drive_link',
      'https://drive.google.com/file/d/11NVD6zC3hBGQkX8yP7OVxMw5muG1IAnz/view?usp=drive_link',
      'https://drive.google.com/file/d/1fMXwKO0no_dE5nvjuzUoTDDs5tw_Qf-I/view?usp=drive_link',
      'https://drive.google.com/file/d/1crA3kY21fB6pOv0Pa3fwBL1CyBxPF9h6/view?usp=drive_link',
      'https://drive.google.com/file/d/1fMcnHEld_TXiEG_i3LQ-4dt7sSLwakWR/view?usp=drive_link',
      'https://drive.google.com/file/d/1H5JoTXKYTgaAHzlCvZnrG1pXWwk4XnUB/view?usp=drive_link',
      'https://drive.google.com/file/d/1BrKuK7Crz1hQrND2ebWGAGDPBlMFiD96/view?usp=drive_link',
      'https://drive.google.com/file/d/1MQbpdwTaspOtT_1Uxxcue9h4qHXNAlbc/view?usp=drive_link',
      'https://drive.google.com/file/d/1KORMxI30bKF_8qxsv5WQ3Z-iP18piEZ1/view?usp=drive_link',
      'https://drive.google.com/file/d/1yRhRYapHK61kvU0uukYXaIFkBwQ2ecB3/view?usp=drive_link',
      'https://drive.google.com/file/d/18vtQZn5rcmlIZNOPgDuKUmAs083BdzxI/view?usp=drive_link',
      'https://drive.google.com/file/d/1Ql7IhoMg8_v6n-HyI7nifsJzfeCkQiMn/view?usp=drive_link',
      'https://drive.google.com/file/d/14Bxm6xP2T-fvgEmCmJQpTg4n7jmxXRXl/view?usp=drive_link',
      'https://drive.google.com/file/d/1Fh0FcJCqmliXYG5R6rLZ1b1dKVxUUnug/view?usp=drive_link',
      'https://drive.google.com/file/d/1IhGUTGKQDrZ3nbUGJxzUZNkAMt9L6ERz/view?usp=drive_link',
      'https://drive.google.com/file/d/1nPOvgsnTamQTmPV07IrzM2lH2qRkPbVD/view?usp=drive_link',
      'https://drive.google.com/file/d/1LcFvj4ootOcTd93RIYQoAP7Zf843IrSa/view?usp=drive_link',
      'https://drive.google.com/file/d/1PDIo6UzOyVYCt0i7MsANF4fMISMMtcbi/view?usp=drive_link',
      'https://drive.google.com/file/d/19OVQgSetAnNfgvlBC95NxagCG_ovRRoB/view?usp=drive_link',
      'https://drive.google.com/file/d/1KKjEF2HVm2ZD3AbKAUXmfaAoklbgAjpX/view?usp=drive_link',
      'https://drive.google.com/file/d/1mLatkkCKBSxE4XrOTylXWJaXTrwcW1g0/view?usp=drive_link',
      'https://drive.google.com/file/d/1TVh7_eOhYWHrpaPKuDf-_E57kYDtOfJ6/view?usp=drive_link',
      'https://drive.google.com/file/d/1opXNjLjW6Ur0bbJcui0FNXdzCOfIo-xe/view?usp=drive_link',
      'https://drive.google.com/file/d/1axU-VKfAgk42-KCyK8coJ_Sxn1tBz5yg/view?usp=drive_link',
      'https://drive.google.com/file/d/1iAUMkc6GmKfl6ywtVLRx5B4DLr_dnG4P/view?usp=drive_link',
      'https://drive.google.com/file/d/1KfQk6_eUe7kcGe854YkBlsiIRnGJdy5O/view?usp=drive_link',
      'https://drive.google.com/file/d/1fs4nNstcbe9iT-nswU8swyvx0fkfvMpV/view?usp=drive_link',
      'https://drive.google.com/file/d/1evlETqZysTAC4nlhBFYVbfHnHXDZ2VDv/view?usp=drive_link',
      'https://drive.google.com/file/d/1pCcnpikLeOZivsc3vmLqC4SU5iViqFq0/view?usp=drive_link',
      'https://drive.google.com/file/d/1FBodZbw3Z4WNGp2OccFFz0ZPx6bLUMmi/view?usp=drive_link',
      'https://drive.google.com/file/d/1xGZKctT-hMSxYEJMl6O4fKAcU2SXhj7T/view?usp=drive_link',
      'https://drive.google.com/file/d/1JMpv9DXr3v7Grz6Edljks7Fw4Nypc8n6/view?usp=drive_link',
      'https://drive.google.com/file/d/1dAYsDKptVBqBQp2ia0F4fKEIQsftFTay/view?usp=drive_link',
      'https://drive.google.com/file/d/1KWgiwhA7G3ABPSdMmQTMbM1xIOcBaZ22/view?usp=drive_link',
      'https://drive.google.com/file/d/1smv7HxHGK-dERv8NUrQXI0HDDGtC6SLX/view?usp=drive_link',
      'https://drive.google.com/file/d/1xG1RbCNHW8_CpDITq-0Vy34de_I3WvEH/view?usp=drive_link',
      'https://drive.google.com/file/d/14nwZXs0K8hZ-N3cPqA_s7h2LwuJ3E97L/view?usp=drive_link',
      'https://drive.google.com/file/d/1I2fZ2tjSwUpWu_XY-jFkkZO1te50lhnB/view?usp=drive_link',
      'https://drive.google.com/file/d/1svar3K13Lvo77xZpyf1ic18E7SI3tRSx/view?usp=drive_link',
      'https://drive.google.com/file/d/150jmr7lW7R9auMofgWejHUb-AOj2mztN/view?usp=drive_link',
      'https://drive.google.com/file/d/1PxSkTH3lds16f0FTuUZ_conp2kfKE4Dq/view?usp=drive_link',
      'https://drive.google.com/file/d/1Qc5FKk3fMxOTNIoaDlXQV27nXBGxKSsU/view?usp=drive_link',
      'https://drive.google.com/file/d/16jwGI-l3VXWQ4yzuoAOvHEunM28thFEN/view?usp=drive_link',
      'https://drive.google.com/file/d/1Bly1MlaUqBNOMRkVo-atvbIsYCLfG4rP/view?usp=drive_link',
      'https://drive.google.com/file/d/1gEp3i-vY1zg83WO6p9szZE-dqtHfXhR-/view?usp=drive_link',
      'https://drive.google.com/file/d/105dDlDlI0sYVULQYx-QiRSCXmdrv_quo/view?usp=drive_link',
      'https://drive.google.com/file/d/1W6CMp4ebov7f401Ubx1zFElQIFzQeti_/view?usp=drive_link',
      'https://drive.google.com/file/d/128SZMwd1QfbLDFG-YF4XDlRE_DdOnCPX/view?usp=drive_link',
      'https://drive.google.com/file/d/160EUrHi_Rbo-lCzftjZY3A4GQxIXcJbX/view?usp=drive_link',
      'https://drive.google.com/file/d/1wcuryZCsjOU9AZ9PxfNKcu6vk4rvjPGH/view?usp=drive_link',
      'https://drive.google.com/file/d/1821sKOD-BRYwEgWZdt7rbgw_rd-Ytkve/view?usp=drive_link',
      'https://drive.google.com/file/d/1gFGv41xLHXnV1jkekku-KsL1BkjqTgvp/view?usp=drive_link',
      'https://drive.google.com/file/d/1DBHfkinACTFHsdKFGErCEHS13CkkBBpe/view?usp=drive_link',
      'https://drive.google.com/file/d/1fTfJ7CxS1MQ8jnj0xZkQ1ZSBnf9NnaKB/view?usp=drive_link',
      'https://drive.google.com/file/d/13M7mFXsyMjjFenhLyRM3kWo_Ia1kTuib/view?usp=drive_link',
      'https://drive.google.com/file/d/143vKeC0x71dBFLbieQhye0oIMNIQRSaK/view?usp=drive_link',
      'https://drive.google.com/file/d/1BGehYJk1Z3I6qrRqQCsqy8JisYczDMzb/view?usp=drive_link',
      'https://drive.google.com/file/d/1LcL1Bw0k2PLTWU1RBBJ19tBtfknvdnLd/view?usp=drive_link',
      'https://drive.google.com/file/d/1TG5qIl1q_W_-q9i9qgmYAOHtfknMTEwI/view?usp=drive_link',
      'https://drive.google.com/file/d/117tdn1ZUWTzLjVu-oAimTnF6fzYfWHYF/view?usp=drive_link',
      'https://drive.google.com/file/d/1GwQPHclKITjYXvYDfcwxU_tYpQ5Wzmw7/view?usp=drive_link',
      'https://drive.google.com/file/d/1-mqrIF4sXc3h7uN0h0LRLZOzv5VkyGpK/view?usp=drive_link',
      'https://drive.google.com/file/d/1BKzfChDdv4dnW_JLZVizPW8jLYcKAJ8i/view?usp=drive_link',
      'https://drive.google.com/file/d/1KwfeaDJp-65_-AWePsgnfY0M2jXDNdxY/view?usp=drive_link',
      'https://drive.google.com/file/d/1vThpq4IJMFUEzDvUm152U8rGwPiVDsyW/view?usp=drive_link',
      'https://drive.google.com/file/d/1PTW_p754mARzV7L1u7ehA4ld8syjNkXq/view?usp=drive_link',
      'https://drive.google.com/file/d/1JG9nS9iG1KxZfqFSAHT8xAtFEsgCxwhg/view?usp=drive_link',
      'https://drive.google.com/file/d/1uLSCFVhSQD5wq-WstdX96GS291LaGGtY/view?usp=drive_link',
      'https://drive.google.com/file/d/1fIRv0OO6OXQ1Z3uz6Tjjhy2Cs4CjmaEz/view?usp=drive_link',
      'https://drive.google.com/file/d/1k3jaQ5MoU3cqUsz4X9IrRZpxElwgsd7h/view?usp=drive_link',
      'https://drive.google.com/file/d/1DOOerAmZQeNLe1Jqz9NyYpxndmQyp0Sp/view?usp=drive_link',
      'https://drive.google.com/file/d/1f887MnAHYoldh2xWEVqvK_iLK5UX8WzL/view?usp=drive_link',
      'https://drive.google.com/file/d/1gsRlZdxdW8lwqmMGOU0yiTgIzxr6Qib6/view?usp=drive_link',
      'https://drive.google.com/file/d/1lEFu0GbfGItPA_vE1vj10w1lkWsCneaD/view?usp=drive_link',
      'https://drive.google.com/file/d/1QdAgTPZWCVKohEME6V95yL5VOb3YLQoq/view?usp=drive_link',
      'https://drive.google.com/file/d/1S_YTCruqpc7UPT4eKXAS4ixb9_o2WcuK/view?usp=drive_link',
      'https://drive.google.com/file/d/1wIqEjolIQSOsXkkZZNkckMKUV6HFi9vu/view?usp=drive_link',
      'https://drive.google.com/file/d/1ZZX2cgpxabJceQgX0b3tM7yBP-oaeOh9/view?usp=drive_link',
      'https://drive.google.com/file/d/1elw4osS-Xn0lqy6gZlk_fbMDoAigPJMj/view?usp=drive_link',
      'https://drive.google.com/file/d/1DI1jomqISKMTkY7s6rgc9pNgNcIrbyxx/view?usp=drive_link',
      'https://drive.google.com/file/d/1I92aAlUZYbySOS2I1vvKbs3dBgaeTLng/view?usp=drive_link',
      'https://drive.google.com/file/d/1XJ_u_J2rslbKbDcs2ysq99_sXAHOa9zJ/view?usp=drive_link',
      'https://drive.google.com/file/d/1rboDD4Fki6XOi0PWmEgP6WYSnkSLMhMy/view?usp=drive_link',
      'https://drive.google.com/file/d/1xQDe3vGxDCE6bLf6WhDReaKDvgbKLKv8/view?usp=drive_link'
    ];

    function normalizeUrl(url) {
      if (!url) return '';
      const trimmed = url.trim();
      const driveMatch = trimmed.match(/https?:\/\/drive\.google\.com\/file\/d\/([^/]+)/);
      if (driveMatch) {
        return `https://drive.google.com/uc?export=view&id=${driveMatch[1]}`;
      }
      return trimmed;
    }

    function parseUrls(input) {
      return input
        .split(',')
        .map(normalizeUrl)
        .filter((u) => u.length);
    }

    function jitterValue(min, max) {
      return Math.random() * (max - min) + min;
    }

    function cardSizeClass() {
      const roll = Math.random();
      if (roll < 0.2) return 'large';
      if (roll < 0.6) return 'medium';
      return 'small';
    }

    function renderGallery(urls) {
      canvas.innerHTML = '';
      if (!urls.length) {
        const empty = document.createElement('div');
        empty.id = 'emptyState';
        empty.textContent = 'Add image URLs to paint the floating canvas.';
        canvas.appendChild(empty);
        return;
      }

      urls.forEach((url) => {
        const card = document.createElement('button');
        card.className = `card ${cardSizeClass()}`;
        card.style.setProperty('--jitter', `${jitterValue(-12, 18)}px`);
        card.style.setProperty('--tilt', `${jitterValue(-1.5, 1.5)}deg`);
        card.type = 'button';
        card.setAttribute('aria-label', 'Gallery item');

        const img = document.createElement('img');
        img.src = url;
        img.loading = 'lazy';
        img.alt = 'Gallery item';

        card.addEventListener('click', () => openOverlay(url));
        card.appendChild(img);
        canvas.appendChild(card);
      });
    }

    function openOverlay(url) {
      overlayImg.src = url;
      overlay.classList.add('active');
      document.body.style.overflow = 'hidden';
      canvas.parentElement.id = 'veil';
      canvas.parentElement.classList.add('blur');
    }

    function closeOverlay() {
      overlay.classList.remove('active');
      document.body.style.overflow = 'hidden';
      canvas.parentElement.classList.remove('blur');
      setTimeout(() => {
        overlayImg.src = '';
        document.body.style.overflow = 'hidden';
      }, 180);
    }

    overlay.addEventListener('click', (event) => {
      if (event.target === overlay) {
        closeOverlay();
      }
    });

    closeBtn.addEventListener('click', closeOverlay);

    // Zoom + pan
    let scale = 1;
    let translate = { x: 0, y: 0 };
    let isDragging = false;
    let start = { x: 0, y: 0 };

    function applyTransform() {
      canvas.style.transform = `translate(calc(-50% + ${translate.x}px), calc(-50% + ${translate.y}px)) scale(${scale})`;
    }

    canvasShell.addEventListener('wheel', (event) => {
      event.preventDefault();
      const delta = -event.deltaY * 0.0015;
      scale = Math.min(3, Math.max(0.4, scale + delta));
      applyTransform();
    }, { passive: false });

    canvasShell.addEventListener('pointerdown', (event) => {
      isDragging = true;
      start = { x: event.clientX - translate.x, y: event.clientY - translate.y };
      canvasShell.setPointerCapture(event.pointerId);
    });

    canvasShell.addEventListener('pointermove', (event) => {
      if (!isDragging) return;
      translate = { x: event.clientX - start.x, y: event.clientY - start.y };
      applyTransform();
    });

    canvasShell.addEventListener('pointerup', () => {
      isDragging = false;
    });

    canvasShell.addEventListener('pointerleave', () => {
      isDragging = false;
    });

    // Input wiring
    function updateGalleryFromInput() {
      const urls = parseUrls(urlInput.value);
      renderGallery(urls);
      localStorage.setItem('floatingCanvasUrls', urls.join(','));
    }

    applyBtn.addEventListener('click', updateGalleryFromInput);
    urlInput.addEventListener('keydown', (event) => {
      if ((event.metaKey || event.ctrlKey) && event.key.toLowerCase() === 'enter') {
        updateGalleryFromInput();
      }
    });

    // Load saved URLs or defaults
    const saved = localStorage.getItem('floatingCanvasUrls');
    const initialInput = saved || DEFAULT_URLS.join(', ');
    const initialUrls = parseUrls(initialInput);
    urlInput.value = initialInput;
    renderGallery(initialUrls);

    // Close overlay on Escape
    window.addEventListener('keydown', (event) => {
      if (event.key === 'Escape' && overlay.classList.contains('active')) {
        closeOverlay();
      }
    });
  </script>
</body>
</html>
